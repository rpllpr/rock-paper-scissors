<!DOCTYPE html>
<html>
    <header>
        <title>Rock, Paper, Scissors</title>
        <meta charset="utf-8">
    </header>
    <body>
        <script>
            
            function computerPlay() {
                let choice=["rock","paper","scissors"];
                return choice[Math.floor(Math.random()*choice.length)];
            }

            function playGame(playerSelection,computerSelection) {
                playerSelection=playerSelection.toLowerCase();
                if (playerSelection!='rock'&&playerSelection!='paper'&&playerSelection!='scissors') {
                    return "You must enter rock, paper, or scissors.";
                } else if (playerSelection=='rock'&&computerSelection=='rock') {
                    return "Both chose rock; play again.";
                } else if (playerSelection=='rock'&&computerSelection=='paper') {
                    return "Computer chose paper; you lose this round.";
                } else if (playerSelection=='rock'&&computerSelection=='scissors') {
                    return "Computer chose scissors; you win this round.";
                } else if (playerSelection=='paper'&&computerSelection=='rock') {
                    return "Computer chose rock; you win this round.";
                } else if (playerSelection=='paper'&&computerSelection=='paper') {
                    return "Both chose paper; play again.";
                } else if (playerSelection=='paper'&&computerSelection=='scissors') {
                    return "Computer chose scissors; you lose this round.";
                } else if (playerSelection=='scissors'&&computerSelection=='rock') {
                    return "Computer chose rock; you lose this round.";
                } else if (playerSelection=='scissors'&&computerSelection=='paper') {
                    return "Computer chose paper; you win this round.";
                } else if (playerSelection=='scissors'&&computerSelection=='scissors') {
                    return "Both chose scissors; play again.";
                } 
            }

            function game() {
                let playerScore=0;
                let computerScore=0;
                for (let i=5; i>0; i--) {
                    playerSelection = prompt('Enter rock, paper or scissors','rock');
                    gameResults=playGame(playerSelection,computerPlay());
                    console.log(gameResults);
                    if (gameResults.includes("play again")) {
                        i++;
                    } else if (gameResults.includes("must enter")) {
                        i++;
                    } else if (gameResults.includes("you win")) {
                        playerScore++;
                    } else if (gameResults.includes("you lose")) {
                        computerScore++;
                    }
                }
                console.log((playerScore>computerScore)?"You win the game!":"You lose the game!");
            }

            game();

        </script>
    </body>
</html>